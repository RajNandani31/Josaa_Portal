"use strict";(globalThis.webpackChunkclient=globalThis.webpackChunkclient||[]).push([[961],{3526:(e,r,a)=>{a.d(r,{D_:()=>w,G_:()=>A,W:()=>v,gz:()=>D,wk:()=>g});var t=a(58212),d=a(9455),n=a(44611),s=a(33426),o=a(20448),l=a(91399),c=a(19457),i=a(17306),h=a(74525),p=a(95889),u=a(75227),z=a(44825),I=a(12373),m=a(85922),U=a(46953),k=a(99256),G=a(89089),T=a(7209),S=a(27410),b=a(90211),f=a(72959),y=a(48213);let _=o.D.matchX({HomepageHeader:"homepage-header",SayThanksCardMobile:"say-thanks-card-mobile",SayThanksCardTabletUp:"say-thanks-card-desktop",TopicsInFeed:"topics-in-feed",ExploreInFeed:"explore-in-feed",SearchInFeed:"search-in-feed"}),v=(()=>{switch(d.Oz){case"development":return o.D.matchX({HomepageHeader:(0,y.a9)(307171),SayThanksCardMobile:(0,y.a9)(237077),SayThanksCardTabletUp:(0,y.a9)(237076),TopicsInFeed:s.U3({Phone:257457,[b._]:237186}),ExploreInFeed:s.U3({Phone:257456,[b._]:247889}),SearchInFeed:s.U3({Phone:257455,[b._]:241347})});case"production":return o.D.matchX({HomepageHeader:(0,y.a9)(307172),SayThanksCardMobile:(0,y.a9)(219423),SayThanksCardTabletUp:(0,y.a9)(219424),TopicsInFeed:s.U3({Phone:257453,[b._]:237209}),ExploreInFeed:s.U3({Phone:257454,[b._]:247890}),SearchInFeed:s.U3({Phone:257452,[b._]:241348})})}})(),x=e=>{let{adType:r,count:a,zoneId:t}=e;return{divName:_(r),zoneIds:I.of(t),count:a,networkId:d.HM,siteId:d.Tf,adTypes:I.of(5),properties:{}}},F=e=>k.VF(r=>(0,y.zG)(p.of(n.q9),p.ap((0,y.zG)(e,x,I.of,p.of)),p.ap(p.tD((0,t.T)(r.shouldUseSecureCookies))))),D=e=>{let{adType:r,count:a,zoneId:t}=e;return(0,y.zG)(F({adType:r,count:a,zoneId:t}),G.XR,G.Zl(e=>(0,y.zG)(m.x0(n.HM)(d.sQ,{method:"POST",headers:{[c.JU]:l.zc.JSON},body:n.D6.encode(e)}),G.QN)),T.ap,T.UI(e=>(0,y.zG)(e.decisions,h.P5(_(r)),U.tS(U.ij),U.UI(I.UI(e=>o.Ad.fromKevelAd({ad:I.YM(e.contents),decision:e}))))))},C=e=>i.tSV(r=>(0,y.zG)(r,i.t94(n.Sy)(e),f.EQ({True:u.Vo(()=>(0,y.zG)(r,i.d1t(r=>n.Sy.equals(r,e)))),False:(0,y.a9)([])}))),g=(e,r)=>I.hX((0,y.ls)(e=>C(e.metadata.advertiserId)(r),i.EQD(y.W8,(0,y.ls)(i.Gax(r=>(0,y.zG)(e,z.fP(n.Sy)(r))),f.ff)))),w=S.UI(U.tS(e=>(0,y.zG)(e.template,n.YS.match({"in-feed":r=>U.G(o.Ad.mkInFeedAd({...e,template:r})),[b._]:(0,y.a9)(U.YP)})))),P=n.YS.matchX({"kitchen-sink":!0,[b._]:!1}),E=n.YS.matchX({"in-feed":!0,[b._]:!1}),A=o.D.matchX({SayThanksCardMobile:P,SayThanksCardTabletUp:P,TopicsInFeed:E,HomepageHeader:(0,y.a9)(!0),ExploreInFeed:E,SearchInFeed:E})},75063:(e,r,a)=>{a.d(r,{W2:()=>H,Yo:()=>A,DU:()=>E});var t=a(52322),d=a(75654),n=a(39277),s=a(17643),o=a(9455),l=a(40824),c=a(20933),i=a(45940),h=a(85221),p=a(84177),u=a(44611),z=a(54279),I=a(9424);let m=(0,a(60985).P1)(e=>e.directAds,e=>e.renderedAdsByAdvertiser);var U=a(33426),k=a(20448),G=a(18530),T=a(70769),S=a(17306),b=a(95889),f=a(85922),y=a(5914),_=a(46953),v=a(99256),x=a(27410),F=a(90211),D=a(48213),C=a(52224),g=a(80134),w=a(3526);let P=(()=>{switch(o.Oz){case"development":return[[u.zi(2260292),u.zi(2260293)]];case"production":return[[u.zi(2262847),u.zi(1890533)]]}})(),E=e=>{let{adType:r,count:a}=e,t=(0,p.v)(m),d=(0,T.m)(e=>(0,D.zG)(e,g.UI(e=>{let[r]=e;return r})),[t]),n=(0,z.M)(),s=(0,I.Fy)();return(0,T.m)(e=>{let r=(0,D.zG)(e,g.UI(e=>e[0]),g.xb(k.D.Eq.equals)),t=(0,D.zG)(e,g.UI(e=>e[1]),g.xb(_.Eh(U.Eq).equals)),s=(0,D.zG)(y.gz((0,D.zG)(r,y.u5),t),y.UI(e=>{let[r,a]=e;return(0,w.W)(r)(a)}),g.xb(_.Eh(C.Eq).equals));return(0,D.zG)(y.gz((0,D.zG)(r,y.u5),s),g.Mm(d),g.UI(e=>{let[r,a]=e;return(0,D.zG)(r,_.UI(e=>{let[r,t]=e;return(0,D.bc)(r,t,a)}))}),y.pd(e=>{let[r,t,d]=e;return(0,D.zG)(g.PQ(()=>(0,D.zG)((0,w.gz)({adType:r,count:3*a,zoneId:t}),v.nn(n))),g.bw((0,D.ls)(x.eL((0,D.a9)(b.Xc),f.JQ.match({CodecErrors:e=>{let{type:a,errors:t}=e;return(0,D.zG)((0,l.$b)({type:a,errors:(0,D.zG)(t,S.Ce7(`
Kevel response failed decoding for adType: "${k.D.Show.show(r)}"`))}),b.Ep)},[F._]:(0,D.a9)(b.Xc)}),e=>{let a=(0,D.zG)(e,_.Tw([]),S.UID(e=>e.template),S.d1t((0,w.G_)(r)));return S.OdA(a)?(0,l.Kw)({error:`Kevel response has invalid templates (${(0,D.zG)(a,S.UID(u.gA),S.v_p(", "))}) for ad type: "${k.D.Show.show(r)}"`}):b.Xc}),b.ht)),g.UI(x.UI(_.tS((0,w.wk)(d,P)))))}),g.UI(_.pF(()=>x.nn)))},[r,s])},A=e=>{let{adType:r,count:a,children:t}=e;return t((0,h.s)(E({adType:r,count:a})))},X=e=>{let{metadata:r}=e;return(0,t.jsxs)(G.PRT,{children:[(0,t.jsx)(s._,{url:r.impressionUrl}),(0,D.zG)(r.impressionTrackers,_.WA(S.Sud((e,r)=>(0,t.jsx)(s._,{url:r},e))))]})},H=e=>{let{children:r,metadata:a,adType:s}=e,o=(0,c.I)();return(0,i.b)(()=>{o(d.aU.mk.DirectAdImpression({metadata:a,adType:s}))}),(0,t.jsxs)(G.PRT,{children:[r,(0,t.jsx)(n.Z,{children:(0,t.jsx)(X,{metadata:a})})]})}},99356:(e,r,a)=>{a.d(r,{$:()=>c});var t=a(52322),d=a(75654),n=a(13328),s=a(20933),o=a(18530),l=a(23246);let c=e=>{let{metadata:r,adType:a,...c}=e,i=(0,s.I)(),h=o.I47(()=>{i(d.aU.mk.Track(l.ju.mk.DirectAdClick({metadata:r,adType:a})))},[r,a]);return(0,t.jsx)(n.r,{onClick:h,href:r.clickUrl,...c})}},85221:(e,r,a)=>{a.d(r,{s:()=>n});var t=a(93096),d=a(27410);let n=e=>(0,t.p)(e,d.nn)},61185:(e,r,a)=>{a.d(r,{$:()=>l});var t=a(33402),d=a(41615),n=a(95889),s=a(46953);let o=(0,a(48213).zG)(d.V4,n.ht,s.Gg(e=>"force_direct_ads"in e)),l=()=>(0,t.US)()&&o}}]);